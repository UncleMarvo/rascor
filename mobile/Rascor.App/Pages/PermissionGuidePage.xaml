<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Rascor.App.Pages.PermissionGuidePage"
             Title="Permissions Required">

    <ScrollView>
        <VerticalStackLayout
            Padding="30,20"
            Spacing="20">

            <Label
                Text="⚠️ Setup Required"
                FontSize="28"
                FontAttributes="Bold"
                TextColor="#FF6B6B"
                HorizontalOptions="Center" />

            <Label
                x:Name="StatusLabel"
                Text="Some permissions are missing"
                FontSize="16"
                TextColor="Gray"
                HorizontalOptions="Center"
                Margin="0,0,0,20" />

            <!-- Location Permission Guide -->
            <Border
                x:Name="LocationBorder"
                BackgroundColor="#FFF3CD"
                Padding="15"
                StrokeThickness="2"
                Stroke="#FFC107">
                <VerticalStackLayout Spacing="10">
                    <Label
                        Text="📍 Location Permission Required"
                        FontSize="18"
                        FontAttributes="Bold" />
                    <Label
                        Text="Current Status: Not Granted or Restricted"
                        FontSize="14"
                        TextColor="#D32F2F" />
                    <Label
                        Text="To enable automatic site tracking:"
                        FontSize="14"
                        FontAttributes="Bold"
                        Margin="0,10,0,0" />
                    <Label
                        Text="1. Tap 'Open Settings' below"
                        FontSize="14" />
                    <Label
                        Text="2. Go to Permissions → Location"
                        FontSize="14" />
                    <Label
                        Text="3. Select 'Allow all the time'"
                        FontSize="14"
                        FontAttributes="Bold"
                        TextColor="#D32F2F" />
                    <Label
                        Text="4. Return to this app"
                        FontSize="14" />
                </VerticalStackLayout>
            </Border>

            <!-- Notification Permission Guide -->
            <Border
                x:Name="NotificationBorder"
                BackgroundColor="#FFF3CD"
                Padding="15"
                StrokeThickness="2"
                Stroke="#FFC107">
                <VerticalStackLayout Spacing="10">
                    <Label
                        Text="🔔 Notification Permission Required"
                        FontSize="18"
                        FontAttributes="Bold" />
                    <Label
                        Text="Current Status: Not Granted"
                        FontSize="14"
                        TextColor="#D32F2F" />
                    <Label
                        Text="To receive site entry/exit alerts:"
                        FontSize="14"
                        FontAttributes="Bold"
                        Margin="0,10,0,0" />
                    <Label
                        Text="1. Tap 'Open Settings' below"
                        FontSize="14" />
                    <Label
                        Text="2. Go to Notifications"
                        FontSize="14" />
                    <Label
                        Text="3. Enable 'Allow notifications'"
                        FontSize="14" />
                </VerticalStackLayout>
            </Border>

            <Button
                x:Name="OpenSettingsBtn"
                Text="Open Settings"
                Clicked="OnOpenSettingsClicked"
                BackgroundColor="#2196F3"
                TextColor="White"
                FontSize="18"
                Margin="0,10,0,0"
                HorizontalOptions="Fill" />

            <Button
                x:Name="CheckAgainBtn"
                Text="I've Updated Permissions - Check Again"
                Clicked="OnCheckAgainClicked"
                BackgroundColor="#4CAF50"
                TextColor="White"
                FontSize="16"
                HorizontalOptions="Fill" />

            <Button
                x:Name="ContinueAnywayBtn"
                Text="Continue Anyway (Not Recommended)"
                Clicked="OnContinueAnywayClicked"
                BackgroundColor="Gray"
                TextColor="White"
                FontSize="14"
                HorizontalOptions="Fill" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>